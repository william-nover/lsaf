<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class Model_about extends CI_Model {    function __construct()    {        parent::__construct();    }		function getListAbout($cond = null){		$query		= "SELECT about_id, about_title, about_image, about_short_desc, about_desc, about_active_status,					  DATE_FORMAT( about_create_date, '%d-%m-%Y %H:%i:%s' ) as about_create_date, about_create_by					  FROM tbl_about ".$cond;		$query		= $this->db->query($query)->result_array();				return $query;	}		function getListAboutLanguageAlias($id, $languageid){		$query		= "SELECT a.about_id, b.about_lang_id, b.about_lang_title, b.about_lang_desc, b.about_lang_short_desc, b.language_id						FROM tbl_about a						INNER JOIN tbl_about_lang b ON a.about_id = b.about_id 						WHERE a.about_active_status = 1 AND a.about_id = ".$id." AND b.language_id = ".$languageid."						ORDER BY a.about_id DESC";		$query		= $this->db->query($query)->result_array();				return $query;	}		function getListAboutLanguage($cond = null){		$query		= "SELECT a.language_id, a.language_title, a.language_default, a.language_active_status, 					    b.about_id, b.about_lang_id						FROM tbl_language a						LEFT JOIN tbl_about_lang b ON a.language_id = b.language_id						".$cond;		$query		= $this->db->query($query)->result_array();				return $query;	}		function getAbout($id = '')	{		$where = '';		if($id != ''){			$where = "WHERE about_id = ".$id;		}		$sql	= "SELECT about_id, about_title, about_image, about_short_desc, about_desc 				  FROM tbl_about $where ORDER BY about_id ASC";			$query	= $this->db->query($sql);		$rs		= $query->result_array(); 				return $rs;		}		function getAboutLang($id = '')	{		$where = '';		if($id != ''){			$where = "WHERE about_lang_id = ".$id;		}		$sql	= "SELECT about_lang_id, about_lang_title, about_lang_short_desc, about_lang_desc FROM tbl_about_lang $where ORDER BY about_lang_id ASC";			$query	= $this->db->query($sql);		$rs		= $query->result_array(); 				return $rs;		}		function activeAbout($id)	{		$sql	= "UPDATE tbl_about SET about_active_status = abs(about_active_status-1),  				   about_update_date = now(), 				   about_update_by = ".$_SESSION['admin_data']['user_id']."				   WHERE about_id = ".$id;			$query	= $this->db->query($sql);				return $query;	}		function deleteAbout($id = '')	{		$sql	= "DELETE FROM tbl_about WHERE about_id = ".$id;			$query	= $this->db->query($sql);				$str = $this->db->last_query();				return $str;	}		function deleteAboutLang($id = '')	{		$sql	= "DELETE FROM tbl_about_lang WHERE about_id = ".$id;			$query	= $this->db->query($sql);				$str = $this->db->last_query();				return $str;	}		function checkAbout( $abouttitle){		$sql	= "SELECT about_title FROM tbl_about WHERE  about_title = '".$abouttitle."'";		$query	= $this->db->query($sql);		$rs		= $query->result_array(); 		return $rs;	}		function checkAboutLang($abouttitlelang){		$sql	= "SELECT * FROM tbl_about_lang WHERE about_lang_title = '".$abouttitlelang."'";		$query	= $this->db->query($sql);		$rs		= $query->result_array(); 		return $rs;	}		function insertAbout($abouttitle,$aboutshortdesc,$aboutdesc,$aboutimageurl)	{		$sql	= "INSERT INTO tbl_about SET 					about_title='".$abouttitle."', 					about_image='".$aboutimageurl."', 					about_active_status = 0, 					about_short_desc='".$aboutshortdesc."',					about_desc='".$aboutdesc."',					about_create_by = ".$_SESSION['admin_data']['user_id'].", about_create_date = now()";					$query  = $this->db->query($sql);		$last_id  = $this->db->insert_id();				return $last_id;	}		function insertAboutLang($abouttitlelang,$aboutshortdesclang,$aboutdesclang,$about_id,$language_id)	{		$sql	= "INSERT INTO tbl_about_lang SET 					about_lang_title='".$abouttitlelang."', 					about_lang_short_desc='".$aboutshortdesclang."',					about_lang_desc='".$aboutdesclang."',					about_id=".$about_id.",					language_id=".$language_id.",					about_lang_create_by = ".$_SESSION['admin_data']['user_id'].", about_lang_create_date = now()";			$query  = $this->db->query($sql);		$last_id  = $this->db->insert_id();				return $last_id;	}		function updateAbout($id,$abouttitle,$aboutshortdesc,$aboutdesc,$aboutimageurl)	{		$sql	= "UPDATE tbl_about SET 				   about_title='".$abouttitle."', 				   about_image='".$aboutimageurl."', 				   about_short_desc='".$aboutshortdesc."', 				   about_desc='".$aboutdesc."', 				   about_active_status = 1, 				   about_update_by = ".$_SESSION['admin_data']['user_id'].", 				   about_update_date=now() WHERE about_id = ".$id;			$query	= $this->db->query($sql);				return $query;	}		function updateAboutDefault($id,$abouttitle,$aboutshortdesc,$aboutdesc)	{		$sql	= "UPDATE tbl_about SET 				   about_title='".$abouttitle."', 				   about_short_desc='".$aboutshortdesc."', 				   about_desc='".$aboutdesc."', 				   about_update_by = ".$_SESSION['admin_data']['user_id'].", about_update_date=now() WHERE about_id = ".$id;			$query	= $this->db->query($sql);				return $query;	}		function updateAboutLang($abouttitle,$aboutshortdesc,$aboutdesc,$aboutid,$languageid)	{		$sql	= "UPDATE tbl_about_lang SET 				   about_lang_title='".$abouttitle."',				   about_lang_short_desc='".$aboutshortdesc."',				   about_lang_desc='".$aboutdesc."',				   about_lang_update_by = ".$_SESSION['admin_data']['user_id'].", about_lang_update_date=now() 				   WHERE about_id = ".$aboutid." AND language_id = ".$languageid;				$query	= $this->db->query($sql);				return $query;	}		function updateAboutLangID($id,$abouttitlelang,$aboutshortdesclang,$aboutdesclang)	{		$sql	= "UPDATE tbl_about_lang SET 				   about_lang_title='".$abouttitlelang."', 				   about_lang_short_desc='".$aboutshortdesclang."', 				   about_lang_desc='".$aboutdesclang."', 				   about_lang_update_by = ".$_SESSION['admin_data']['user_id'].", about_lang_update_date=now() 				   WHERE about_lang_id = ".$id;				$query	= $this->db->query($sql);				return $query;	}}