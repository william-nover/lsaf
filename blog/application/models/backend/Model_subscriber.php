<?php if (!defined('BASEPATH')) exit('No direct script access allowed');class Model_subscriber extends CI_Model{    function __construct()    {        parent::__construct();    }    function getModule($module_name)    {        $data  = array();        $sql   = "select module_id , module_group_id from tbl_module where module_name='" . $module_name . "' ";        $hasil = $this->db->query($sql);        if ($hasil->num_rows() > 0) {            $data = $hasil->result();        } else {            $data = '';        }        $hasil->free_result();        $this->db->close();        return $data;    }       function getListSubscriber($cond = null)    {        $query = " Select a.subscriber_id,a.email,a.subscriber_status, DATE_FORMAT( a.subscriber_date, '%d-%m-%Y %H:%i:%s' ) as subscriber_date" . " from tbl_subscriber as a" . $cond;        $query = $this->db->query($query)->result_array();        return $query;    }     public function getSubscriber($id)    {        $where = '';        if ($id != '') {            $where = "WHERE subscriber_id = " . $id;        }         $query = " Select a.subscriber_id,a.email,a.subscriber_status,DATE_FORMAT( a.subscriber_date, '%d-%m-%Y %H:%i:%s' ) as subscriber_date"                 . " from tbl_subscriber a" . " $where ";        $query = $this->db->query($query)->result_array();        return $query;    }    function activeSubscriber($id)    {        $sql   = "UPDATE tbl_subscriber SET subscriber_status = abs(subscriber_status-1)                   WHERE subscriber_id = " . $id;        $query = $this->db->query($sql);        return $query;    }           function deleteSubscriber($id = '')    {        $sql   = "DELETE FROM tbl_subscriber WHERE subscriber_id = " . $id;        $query = $this->db->query($sql);        $str   = $this->db->last_query();        return $str;    }    }